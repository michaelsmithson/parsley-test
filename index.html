<html>
    <head>
    </head>
    <body>
		<form method="post" id="form" action="#">
            <input id="date" data-parsley-required-message="Date is required"></input>

            <input data-parsley-pattern="02[\d\-\s]+" />

            <input type="text" required />

			<input type="submit" class="btn btn-default" value="validate">
		</form>

        <script src="node_modules/jquery/dist/jquery.js"></script>
        <script src="node_modules/parsleyjs/dist/parsley.js"></script>
        <script src="jquery.date-dropdown.js"></script>
        <script>

			$(function() {
				$("#date").dateDropdowns({
					required: true,
					minAge: 16,
					maxAge: 105,
					submitFormat: "yyyymmdd",
					daySuffixes: false,
					displayFormat: "dmy",
					monthFormat: "short"
					// monthSuffixes: false
				});
            });
            // TODO add the focusOut here as well
            $("#form").parsley({
                excluded: 'input[type=button], input[type=submit], input[type=reset]',
                inputs: 'input, textarea, select, input[type=hidden]',
                classHandler: function (field) {
                    // Check the parent element, and if it is the date-dropdowns div, then stick the error on that
                    var parent = field.element.parentElement;
                    if(parent && parent.tagName == "DIV" && parent.className == "date-dropdowns"){
                        return $(parent);
                    }
                    return field; 
                }
            });
        </script>
    </body>
</html>
